/* =====================================
   BASE – FLAT & CLEAN
   ===================================== */

body {
  font-family: "Source Serif Pro", Georgia, serif;
  font-size: 11.5pt;
  line-height: 1.65;
  color: #2b2b2b;
  background-color: #ffffff;
}

/* =====================================
   HEADINGS – FLATLY INSPIRED
   ===================================== */

h1, h2, h3, h4 {
  font-family: "Source Sans Pro", "Helvetica Neue", Arial, sans-serif;
  font-weight: 600;
}

h1 {
  font-size: 22pt;
  color: #1f2a44; 
  border-bottom: 3px solid #e3c7cf;
  padding-bottom: 0.25em;
  margin-bottom: 0.8em;
}

h2 {
  font-size: 16pt;
  color: #3a4358; 
  border-bottom: 1px solid #d8dbe2;
  padding-bottom: 0.2em;
  margin-top: 2em;
}

h3 {
  font-size: 13pt;
  color: #2f3650;
  margin-top: 1.6em;
}

h4 {
  font-size: 11.5pt;
  color: #555;
}

/* =====================================
   PARAGRAPHS
   ===================================== */

p {
  margin-bottom: 1em;
  text-align: justify;
}

/* =====================================
   LINKS – FLAT, NO DECORATION
   ===================================== */

a {
  color: #7b1e3a;
  text-decoration: none;
}

a:hover {
  color: #1f2a44;
}

/* =====================================
   STRONG & EMPHASIS
   ===================================== */

strong {
  color: #2b2e34;
}

em {
  color: #444;
}

/* =====================================
   TABLE OF CONTENTS – STRONG & FLAT
   ===================================== */

#TOC {
  border-left: 5px solid #7b1e3a;
  padding-left: 1.2em;
  margin-bottom: 2em;
}

#TOC > h2 {
  font-size: 14pt;
  font-weight: 700;
  color: #1f2a44;
  letter-spacing: 0.02em;
}

#TOC > ul > li > a {
  font-weight: 600;
  font-size: 11.5pt;
  color: #1f2a44;
}

#TOC ul ul li a {
  font-weight: 400;
  font-size: 10.5pt;
  color: #555;
}

#TOC a.active {
  color: #7b1e3a;
  font-weight: 700;
}

/* =====================================
   LISTS
   ===================================== */

ul, ol {
  margin-left: 1.3em;
}

li {
  margin-bottom: 0.35em;
}

/* =====================================
   BLOCKQUOTES – FLAT PANEL STYLE
   ===================================== */

blockquote {
  border-left: 4px solid #7b1e3a;
  background-color: #faf5f7;
  padding: 0.8em 1em;
  margin: 1.2em 0;
  font-style: italic;
  color: #444;
}

/* =====================================
   TABLES – FLATLY STYLE
   ===================================== */

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 10.5pt;
  margin: 1.5em 0;
}

th {
  background-color: #f3e7eb;
  color: #7b1e3a;
  font-weight: 600;
  padding: 8px;
  border-bottom: 2px solid #e3c7cf;
}

td {
  padding: 8px;
  border-bottom: 1px solid #e6e6e6;
}

caption {
  caption-side: above;
  font-size: 9.5pt;
  color: #555;
  margin-top: 0.4em;
  font-weight:600;
}

/* =====================================
   FIGURE CAPTIONS – BELOW FIGURE
   ===================================== */

figure figcaption {
  text-align: center;
  font-size: 9.8pt;
  font-weight: 400;
  color: #555;
  margin-top: 0.5em;
}

/* Emphasise figure number only */
figure figcaption strong {
  color: #7b1e3a; /* burgundy */
  font-weight: 600;
}

/* Optional: spacing consistency */
figure {
  margin-bottom: 1.8em;
}


/* =====================================
   CODE BLOCKS – FLAT & QUIET
   ===================================== */

pre, code {
  font-family: "JetBrains Mono", monospace;
  font-size: 9.8pt;
  background-color: #f4f6f8;
}

pre {
  padding: 0.8em;
  border-left: 4px solid #7b1e3a;
}

/* =====================================
   PRINT SAFE
   ===================================== */

@media print {
  h1, h2, h3 {
    color: #000;
    border-color: #000;
  }

  a {
    color: #000;
  }
}

/* =====================================
   FORCE OVERRIDE QUARTO GREEN (TOC)
   ===================================== */

/* Active TOC link (most common) */
#TOC a.active,
#TOC a[aria-current="true"] {
  color: #7b1e3a !important; /* vibrant burgundy */
  font-weight: 700;
}

/* Sidebar TOC (Quarto-specific) */
.sidebar nav a.active,
.sidebar nav a[aria-current="page"],
.sidebar nav li.active > a {
  color: #7b1e3a !important;
  font-weight: 700;
}

/* TOC left indicator bar */
.sidebar nav li.active::before,
#TOC li.active::before {
  background-color: #7b1e3a !important;
}

/* Expandable subsection marker */
.sidebar nav details[open] > summary {
  color: #7b1e3a !important;
}

/* =====================================
   FORCE GREEN TOC LINE → VIBRANT BURGUNDY
   ===================================== */

/* Main TOC vertical guide line */
.sidebar nav {
  border-left-color: #7b1e3a !important;
}

/* Nested TOC guide lines */
.sidebar nav ul,
.sidebar nav ul ul {
  border-left-color: #7b1e3a !important;
}

/* Active section indicator bar */
.sidebar nav li.active::before,
#TOC li.active::before {
  background-color: #7b1e3a !important;
}

/* Expandable section (details/summary) guide */
.sidebar nav details {
  border-left-color: #7b1e3a !important;
}

/* Bootstrap variable fallback (kills stubborn green) */
.sidebar {
  --bs-border-color: #7b1e3a !important;
  --bs-link-color: #7b1e3a;
}

/* =====================================
   FORCE TOC HOVER COLOR → VIBRANT BURGUNDY
   ===================================== */

/* Hover on TOC links */
#TOC a:hover,
#TOC a:focus {
  color: #7b1e3a !important;
}

/* Sidebar TOC hover (Quarto / Bootstrap) */
.sidebar nav a:hover,
.sidebar nav a:focus {
  color: #7b1e3a !important;
}

/* Nested TOC hover */
.sidebar nav ul li a:hover {
  color: #7b1e3a !important;
}

/* Override Bootstrap hover variables */
.sidebar {
  --bs-link-hover-color: #7b1e3a !important;
}
